/*! For license information please see index.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@ng-bootstrap/ng-bootstrap"),require("terminus-core"),require("terminus-settings"),require("terminus-terminal"));else if("function"==typeof define&&define.amd)define(["@angular/core","@angular/common","@angular/forms","@ng-bootstrap/ng-bootstrap","terminus-core","terminus-settings","terminus-terminal"],t);else{var o="object"==typeof exports?t(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@ng-bootstrap/ng-bootstrap"),require("terminus-core"),require("terminus-settings"),require("terminus-terminal")):t(e["@angular/core"],e["@angular/common"],e["@angular/forms"],e["@ng-bootstrap/ng-bootstrap"],e["terminus-core"],e["terminus-settings"],e["terminus-terminal"]);for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(global,((e,t,o,n,r,i,s)=>(()=>{var a={27:(e,t,o)=>{var n=o(817);e.exports=(n.default||n).apply(n,[])},721:(e,t,o)=>{var n=o(29);e.exports=(n.default||n).apply(n,[])},230:(e,t,o)=>{var n=o(172);e.exports=(n.default||n).apply(n,[])},774:(e,t,o)=>{var n=o(772);e.exports=(n.default||n).apply(n,[])},972:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});var n=o(537),r=o.n(n),i=o(645),s=o.n(i)()(r());s.push([e.id,".list-group.connections-list{display:block;max-height:70vh;overflow-y:auto}.quickCmd{flex:2 !important}.quickCmdContainer{display:flex !important}\n","",{version:3,sources:["webpack://./src/components/quickCmdsModal.component.scss"],names:[],mappings:"AAAA,6BACI,aAAc,CACd,eAAgB,CAChB,eAAgB,CACnB,UAGG,iBACJ,CAAC,mBAGG,uBACJ",sourcesContent:[".list-group.connections-list {\n    display: block;\n    max-height: 70vh;\n    overflow-y: auto;\n}\n\n.quickCmd {\n    flex: 2 !important\n}\n\n.quickCmdContainer {\n    display: flex !important\n}\n"],sourceRoot:""}]);const a=s},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);n&&s[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),o&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=o):d[2]=o),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},537:e=>{"use strict";e.exports=function(e){var t=e[1],o=e[3];if(!o)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),i="/*# ".concat(r," */"),s=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[t].concat(s).concat([i]).join("\n")}return[t].join("\n")}},817:(e,t,o)=>{o(55),e.exports=function(e){return""+'<div class="modal-body"><div class="form-group"><label>Name</label><input class="form-control" type="text" placeholder="Name" autofocus [(ngModel)]="command.name"></div><div class="form-group"><label>Text</label><textarea class="form-control" rows="6" style="white-space: pre-line" placeholder="Text to be sent" [(ngModel)]="command.text"></textarea></div><div class="form-group"><label>Group</label><input class="form-control" type="text" placeholder="Ungrouped" [(ngModel)]="command.group"></div><div class="form-line"><div class="header"><div class="title">Append \'\\n\'</div><div class="description">Automatically append a \'\\n\' char to the end</div></div><toggle [(ngModel)]="command.appendCR"></toggle></div></div><div class="modal-footer"><button class="btn btn-outline-primary" (click)="save()">Save</button><button class="btn btn-outline-danger" (click)="cancel()">Cancel</button></div>'}},29:(e,t,o)=>{o(55),e.exports=function(e){return""+'<div class="modal-body"><input class="form-control" [type]="password ? &quot;password&quot; : &quot;text&quot;" autofocus [(ngModel)]="value" #input [placeholder]="prompt" (keyup.enter)="ok()" (keyup.esc)="cancel()"></div>'}},172:(e,t,o)=>{o(55),e.exports=function(e){return""+'<div class="modal-body"><div class="quickCmdContainer"><input class="form-control quickCmd" type="text" [(ngModel)]="quickCmd" autofocus placeholder="Ctrl + Enter send to all" (ngModelChange)="refresh()" (keyup.enter)="quickSend()" (keyup.control.enter)="quickSendAll()"><toggle class="ml-1" title="Automatically append a \'\\n\' char to the end" [(ngModel)]="appendCR"></toggle></div><div class="list-group mt-3 connections-list"><ng-container *ngFor="let group of childGroups"> <div class="list-group-item list-group-item-action d-flex align-items-center" (click)="clickGroup(group, $event)" title="Shift + Click send all to active tab\nCtrl + Shift + Click send all to all tabs"><div class="fa fa-fw fa-chevron-right" *ngIf="groupCollapsed[group.name]"></div><div class="fa fa-fw fa-chevron-down" *ngIf="!groupCollapsed[group.name]"></div><div class="ml-2">{{group.name || "Ungrouped"}}</div></div><ng-container *ngIf="!groupCollapsed[group.name]"><div class="list-group-item list-group-item-action pl-5 d-flex align-items-center" *ngFor="let cmd of group.cmds" (click)="send(cmd, $event)" title="Ctrl + Click send to all"><div class="mr-auto"><div>{{cmd.name}}</div><div class="text-muted">{{cmd.text}}{{cmd.appendCR ? "\\\\n" : ""}}</div></div></div></ng-container></ng-container></div></div>'}},772:(e,t,o)=>{o(55),e.exports=function(e){return""+'<h3>Quick Commands</h3><div class="form-group"><button class="btn btn-outline-primary" (click)="createCommand()"><div class="fa fa-fw fa-globe"></div><span class="ml-2">Add command</span></button></div><div class="form-group"><input class="form-control quickCmd" type="text" [(ngModel)]="quickCmd" autofocus placeholder="enter to filter" (ngModelChange)="refresh()" (keyup.esc)="cancelFilter()"></div><div class="list-group mt-3 mb-3"><ng-container *ngFor="let group of childGroups"> <div class="list-group-item list-group-item-action d-flex align-items-center" (click)="groupCollapsed[group.name] = !groupCollapsed[group.name]"><div class="fa fa-fw fa-chevron-right" *ngIf="groupCollapsed[group.name]"></div><div class="fa fa-fw fa-chevron-down" *ngIf="!groupCollapsed[group.name]"></div><span class="ml-3 mr-auto">{{group.name || "Ungrouped"}}</span><button class="btn btn-outline-info ml-2" (click)="editGroup(group)"><i class="fa fa-pencil"></i></button><button class="btn btn-outline-danger ml-1" (click)="deleteGroup(group)"><i class="fa fa-trash-can"> </i></button></div><ng-container *ngIf="!groupCollapsed[group.name]"><div class="list-group-item pl-5 d-flex align-items-center" *ngFor="let cmd of group.cmds"> <div class="mr-auto"><div>{{cmd.name}}</div><div class="text-muted">{{cmd.text}} {{cmd.appendCR ? "\\\\n" : ""}}</div></div><button class="btn btn-outline-info ml-2" (click)="editCommand(cmd)"><i class="fa fa-pencil"></i></button><button class="btn btn-outline-danger ml-1" (click)="deleteCommand(cmd)"><i class="fa fa-trash-can"> </i></button></div></ng-container></ng-container></div>'}},55:(e,t,o)=>{"use strict";var n=Object.prototype.hasOwnProperty;function r(e,t){return Array.isArray(e)?function(e,t){for(var o,n="",i="",s=Array.isArray(t),a=0;a<e.length;a++)(o=r(e[a]))&&(s&&t[a]&&(o=c(o)),n=n+i+o,i=" ");return n}(e,t):e&&"object"==typeof e?function(e){var t="",o="";for(var r in e)r&&e[r]&&n.call(e,r)&&(t=t+o+r,o=" ");return t}(e):e||""}function i(e){if(!e)return"";if("object"==typeof e){var t="";for(var o in e)n.call(e,o)&&(t=t+o+":"+e[o]+";");return t}return e+""}function s(e,t,o,n){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(n?e:e+'="'+e+'"');var r=typeof t;return"object"!==r&&"function"!==r||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),o||-1===t.indexOf('"'))?(o&&(t=c(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}t.merge=function e(t,o){if(1===arguments.length){for(var n=t[0],r=1;r<t.length;r++)n=e(n,t[r]);return n}for(var s in o)if("class"===s){var a=t[s]||[];t[s]=(Array.isArray(a)?a:[a]).concat(o[s]||[])}else if("style"===s){a=(a=i(t[s]))&&";"!==a[a.length-1]?a+";":a;var c=i(o[s]);c=c&&";"!==c[c.length-1]?c+";":c,t[s]=a+c}else t[s]=o[s];return t},t.classes=r,t.style=i,t.attr=s,t.attrs=function(e,t){var o="";for(var a in e)if(n.call(e,a)){var c=e[a];if("class"===a){o=s(a,c=r(c),!1,t)+o;continue}"style"===a&&(c=i(c)),o+=s(a,c,!1,t)}return o};var a=/["&<>]/;function c(e){var t=""+e,o=a.exec(t);if(!o)return e;var n,r,i,s="";for(n=o.index,r=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}r!==n&&(s+=t.substring(r,n)),r=n+1,s+=i}return r!==n?s+t.substring(r,n):s}t.escape=c,t.rethrow=function e(t,n,r,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||i))throw t.message+=" on line "+r,t;var s,a,c,l;try{i=i||o(147).readFileSync(n,{encoding:"utf8"}),s=3,a=i.split("\n"),c=Math.max(r-s,0),l=Math.min(a.length,r+s)}catch(o){return t.message+=" - could not read from "+n+" ("+o.message+")",void e(t,null,r)}s=a.slice(c,l).map((function(e,t){var o=t+c+1;return(o==r?"  > ":"    ")+o+"| "+e})).join("\n"),t.path=n;try{t.message=(n||"Pug")+":"+r+"\n"+s+"\n\n"+t.message}catch(e){}throw t}},812:e=>{e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve"><metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata><g><path d="M286.1,422.2h-79.4c-16.2,0-29.4-13.2-29.4-29.4v-54.4c0-16.2,13.2-29.4,29.4-29.4h79.4c16.2,0,29.4,13.2,29.4,29.4v54.4C315.5,409,302.3,422.2,286.1,422.2z"></path><path d="M455.2,422.2h-79.4c-16.2,0-29.4-13.2-29.4-29.4v-54.4c0-16.2,13.2-29.4,29.4-29.4h79.4c16.2,0,29.4,13.2,29.4,29.4v54.4C484.6,409,471.3,422.2,455.2,422.2z"></path><path d="M624.2,422.2h-79.4c-16.2,0-29.4-13.2-29.4-29.4v-54.4c0-16.2,13.2-29.4,29.4-29.4h79.4c16.2,0,29.4,13.2,29.4,29.4v54.4C653.6,409,640.4,422.2,624.2,422.2z"></path><path d="M793.2,422.2h-79.4c-16.2,0-29.4-13.2-29.4-29.4v-54.4c0-16.2,13.2-29.4,29.4-29.4h79.4c16.2,0,29.4,13.2,29.4,29.4v54.4C822.6,409,809.4,422.2,793.2,422.2z"></path><path d="M305,573.6h-79.4c-16.2,0-29.4-13.2-29.4-29.4v-54.4c0-16.2,13.2-29.4,29.4-29.4H305c16.2,0,29.4,13.2,29.4,29.4v54.4C334.4,560.4,321.2,573.6,305,573.6z"></path><path d="M461.5,573.6h-79.4c-16.2,0-29.4-13.2-29.4-29.4v-54.4c0-16.2,13.2-29.4,29.4-29.4h79.4c16.2,0,29.4,13.2,29.4,29.4v54.4C490.9,560.4,477.6,573.6,461.5,573.6z"></path><path d="M617.9,573.6h-79.4c-16.2,0-29.4-13.2-29.4-29.4v-54.4c0-16.2,13.2-29.4,29.4-29.4h79.4c16.2,0,29.4,13.2,29.4,29.4v54.4C647.3,560.4,634.1,573.6,617.9,573.6z"></path><path d="M774.4,573.6H695c-16.2,0-29.4-13.2-29.4-29.4v-54.4c0-16.2,13.2-29.4,29.4-29.4h79.4c16.2,0,29.4,13.2,29.4,29.4v54.4C803.8,560.4,790.6,573.6,774.4,573.6z"></path><path d="M741.1,732.1H258.9c-16.2,0-29.4-13.2-29.4-29.4v-35.3c0-16.2,13.2-29.4,29.4-29.4h482.2c16.2,0,29.4,13.2,29.4,29.4v35.3C770.5,718.9,757.3,732.1,741.1,732.1z"></path><path d="M500,39.4c62.2,0,122.5,12.2,179.3,36.2c54.8,23.2,104.1,56.4,146.4,98.7s75.5,91.6,98.7,146.4c24,56.8,36.2,117.1,36.2,179.3c0,62.2-12.2,122.5-36.2,179.3c-23.2,54.8-56.4,104.1-98.7,146.4s-91.6,75.5-146.4,98.7c-56.8,24-117.1,36.2-179.3,36.2c-62.2,0-122.5-12.2-179.3-36.2c-54.8-23.2-104.1-56.4-146.4-98.7s-75.5-91.6-98.7-146.4c-24-56.8-36.2-117.1-36.2-179.3c0-62.2,12.2-122.5,36.2-179.3c23.2-54.8,56.4-104.1,98.7-146.4s91.6-75.5,146.4-98.7C377.5,51.6,437.8,39.4,500,39.4 M500,10C229.4,10,10,229.4,10,500s219.4,490,490,490c270.6,0,490-219.4,490-490S770.6,10,500,10L500,10z"></path></g></svg>'},835:(e,t,o)=>{var n=o(972);n&&n.__esModule&&(n=n.default),e.exports="string"==typeof n?n:n.toString()},619:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonProvider=void 0;const s=o(900),a=o(571),c=o(243),l=o(589);let d=class extends c.ToolbarButtonProvider{constructor(e,t){super(),this.ngbModal=e,t.matchedHotkey.subscribe((e=>i(this,void 0,void 0,(function*(){"qc"===e&&this.activate()}))))}activate(){this.ngbModal.open(l.QuickCmdsModalComponent)}provide(){return[{icon:o(812),weight:5,title:"Quick commands",touchBarNSImage:"NSTouchBarComposeTemplate",click:()=>i(this,void 0,void 0,(function*(){this.activate()}))}]}};d=n([(0,s.Injectable)(),r("design:paramtypes",[a.NgbModal,c.HotkeysService])],d),t.ButtonProvider=d},704:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.EditCommandModalComponent=void 0;const i=o(900),s=o(571);let a=class{constructor(e){this.modalInstance=e}save(){this.modalInstance.close(this.command)}cancel(){this.modalInstance.dismiss()}};a=n([(0,i.Component)({template:o(27)}),r("design:paramtypes",[s.NgbActiveModal])],a),t.EditCommandModalComponent=a},491:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PromptModalComponent=void 0;const i=o(900),s=o(571);let a=class{constructor(e){this.modalInstance=e}ngOnInit(){this.input.nativeElement.focus()}ok(){this.modalInstance.close(this.value)}cancel(){this.modalInstance.close("")}};n([(0,i.Input)(),r("design:type",String)],a.prototype,"value",void 0),n([(0,i.Input)(),r("design:type",Boolean)],a.prototype,"password",void 0),n([(0,i.ViewChild)("input"),r("design:type",i.ElementRef)],a.prototype,"input",void 0),a=n([(0,i.Component)({template:o(721)}),r("design:paramtypes",[s.NgbActiveModal])],a),t.PromptModalComponent=a},589:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickCmdsModalComponent=void 0;const s=o(900),a=o(571),c=o(243),l=o(501);let d=class{constructor(e,t,o){this.modalInstance=e,this.config=t,this.app=o,this.groupCollapsed={}}ngOnInit(){this.cmds=this.config.store.qc.cmds,this.appendCR=!0,this.refresh()}quickSend(){this._send(this.app.activeTab,this.quickCmd+(this.appendCR?"\n":"")),this.close()}quickSendAll(){this._sendAll(this.quickCmd+(this.appendCR?"\n":"")),this.close()}sleep(e){return new Promise((t=>setTimeout(t,e)))}_send(e,t){return i(this,void 0,void 0,(function*(){if(e instanceof c.SplitTabComponent&&this._send(e.getFocusedTab(),t),e instanceof l.BaseTerminalTabComponent){let o=e;console.log("Sending "+t);let n=t.split(/(?:\r\n|\r|\n)/);for(let e of n)if(console.log("Sending "+e),e.startsWith("\\s")){e=e.replace("\\s","");let t=parseInt(e);yield this.sleep(t),console.log("sleep time: "+t)}else e.startsWith("\\x")&&(e=e.replace(/\\x([0-9a-f]{2})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))),o.sendInput(e+"\n")}}))}_sendAll(e){for(let t of this.app.tabs)if(t instanceof c.SplitTabComponent)for(let o of t.getAllTabs())this._send(o,e);else this._send(t,e)}close(){this.modalInstance.close(),this.app.activeTab.emitFocused()}send(e,t){t.ctrlKey?this._sendAll(e.text+(e.appendCR?"\n":"")):this._send(this.app.activeTab,e.text+(e.appendCR?"\n":"")),this.close()}clickGroup(e,t){if(t.shiftKey)if(t.ctrlKey)for(let t of e.cmds)this._sendAll(t.text+(t.appendCR?"\n":""));else for(let t of e.cmds)this._send(this.app.activeTab,t.text+(t.appendCR?"\n":""));else this.groupCollapsed[e.name]=!this.groupCollapsed[e.name]}refresh(){this.childGroups=[];let e=this.cmds;this.quickCmd&&(e=e.filter((e=>(e.name+e.group+e.text).toLowerCase().includes(this.quickCmd))));for(let t of e){t.group=t.group||null;let e=this.childGroups.find((e=>e.name===t.group));e||(e={name:t.group,cmds:[]},this.childGroups.push(e)),e.cmds.push(t)}}};d=n([(0,s.Component)({template:o(230),styles:[o(835)]}),r("design:paramtypes",[a.NgbActiveModal,c.ConfigService,c.AppService])],d),t.QuickCmdsModalComponent=d},864:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickCmdsSettingsTabComponent=void 0;const i=o(900),s=o(571),a=o(243),c=o(704),l=o(491);let d=class{constructor(e,t){this.config=e,this.ngbModal=t,this.groupCollapsed={},this.commands=this.config.store.qc.cmds,this.refresh()}createCommand(){let e=this.ngbModal.open(c.EditCommandModalComponent);e.componentInstance.command={name:"",text:"",appendCR:!0},e.result.then((e=>{this.commands.push(e),this.config.store.qc.cmds=this.commands,this.config.save(),this.refresh()}))}editCommand(e){let t=this.ngbModal.open(c.EditCommandModalComponent);t.componentInstance.command=Object.assign({},e),t.result.then((t=>{Object.assign(e,t),this.config.save(),this.refresh()}))}deleteCommand(e){confirm(`Delete "${e.name}"?`)&&(this.commands=this.commands.filter((t=>t!==e)),this.config.store.qc.cmds=this.commands,this.config.save(),this.refresh())}editGroup(e){let t=this.ngbModal.open(l.PromptModalComponent);t.componentInstance.prompt="New group name",t.componentInstance.value=e.name,t.result.then((t=>{if(t){for(let o of this.commands.filter((t=>t.group===e.name)))o.group=t;this.config.save(),this.refresh()}}))}deleteGroup(e){if(confirm(`Delete "${e}"?`)){for(let t of this.commands.filter((t=>t.group===e.name)))t.group=null;this.config.save(),this.refresh()}}cancelFilter(){this.quickCmd="",this.refresh()}refresh(){this.childGroups=[];let e=this.commands;this.quickCmd&&(e=e.filter((e=>(e.name+e.group+e.text).toLowerCase().includes(this.quickCmd))));for(let t of e){t.group=t.group||null;let e=this.childGroups.find((e=>e.name===t.group));e||(e={name:t.group,cmds:[]},this.childGroups.push(e)),e.cmds.push(t)}}};d=n([(0,i.Component)({template:o(774)}),r("design:paramtypes",[a.ConfigService,s.NgbModal])],d),t.QuickCmdsSettingsTabComponent=d},913:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickCmdsConfigProvider=void 0;const n=o(243);class r extends n.ConfigProvider{constructor(){super(...arguments),this.defaults={qc:{cmds:[]},hotkeys:{qc:["Alt-Q"]}},this.platformDefaults={}}}t.QuickCmdsConfigProvider=r},607:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});const r=o(900),i=o(848),s=o(161),a=o(571),c=o(243),l=o(243),d=o(266),u=o(704),p=o(589),f=o(864),m=o(491),h=o(619),g=o(913),v=o(310);let b=class{};b=n([(0,r.NgModule)({imports:[a.NgbModule,i.CommonModule,s.FormsModule,l.default],providers:[{provide:c.ToolbarButtonProvider,useClass:h.ButtonProvider,multi:!0},{provide:c.ConfigProvider,useClass:g.QuickCmdsConfigProvider,multi:!0},{provide:d.SettingsTabProvider,useClass:v.QuickCmdsSettingsTabProvider,multi:!0}],entryComponents:[m.PromptModalComponent,u.EditCommandModalComponent,p.QuickCmdsModalComponent,f.QuickCmdsSettingsTabComponent],declarations:[m.PromptModalComponent,u.EditCommandModalComponent,p.QuickCmdsModalComponent,f.QuickCmdsSettingsTabComponent]})],b),t.default=b},310:function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickCmdsSettingsTabProvider=void 0;const r=o(900),i=o(266),s=o(864);let a=class extends i.SettingsTabProvider{constructor(){super(...arguments),this.id="qc",this.title="Quick Commands"}getComponentType(){return s.QuickCmdsSettingsTabComponent}};a=n([(0,r.Injectable)()],a),t.QuickCmdsSettingsTabProvider=a},147:e=>{"use strict";e.exports=require("fs")},848:e=>{"use strict";e.exports=t},900:t=>{"use strict";t.exports=e},161:e=>{"use strict";e.exports=o},571:e=>{"use strict";e.exports=n},243:e=>{"use strict";e.exports=r},266:e=>{"use strict";e.exports=i},501:e=>{"use strict";e.exports=s}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var o=c[e]={id:e,exports:{}};return a[e].call(o.exports,o,o.exports,l),o.exports}return l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l(607)})()));
//# sourceMappingURL=index.js.map